<p class="instructions">
    Instructions: Rank as many of the options below as you'd like.
    Omitted options will treated as equally last.
</p>
<div class="ranked-choice" cdkDropListGroup>
    <div class="column"
        cdkDropList
        (cdkDropListDropped)="onRankedDrop($event)">
        <h4>Ranked Options</h4>
        <p class="rc-instructions">
            Drag to rerank or omit.
            <ng-container *ngIf="allowEquals">
                Select to mark/unmark equal.
            </ng-container>
        </p>
        <span class="option-list">
            <app-ranked-option *ngFor="let option of choice; index as i"
                cdkDrag
                cdkDragBoundary=".ranked-choice"
                [option]="option" [index]="i"
                [allowEquals]="allowEquals"
                [selectionMode]="selectionMode" [startIndex]="startIndex" [endIndex]="endIndex"
                (selected)="onSelection($event, i)"
                (deselected)="onDeselection($event, i)">
            </app-ranked-option>
        </span>
        <span *ngIf="allowEquals && choice.length > 0" class="button-centered">
            <button class="generic-button"
                *ngIf="selectionMode == '' || selectionMode == 'equal'"
                [disabled]="selectionMode != 'equal'">
                Mark Equal
            </button>
        </span>
    </div>
    <div class="column"
        cdkDropList
        (cdkDropListDropped)="onOmittedDrop($event)">
        <h4>Omitted Options</h4>
        <p class="rc-instructions">
            Click or drag to rank options.
        </p>
        <span class="option-list">
            <a class="option-pane omitted-option"
                *ngFor="let option of omittedOptions"
                (click)="appendOption(option)"
                cdkDrag
                cdkDragBoundary=".ranked-choice">
                {{option}}
            </a>
        </span>
    </div>
</div>
<span class="button-centered">
    <button class="generic-button" [disabled]="choice.length == 0" (click)="onVote()">Vote</button>
</span>
